#N canvas 589 23 731 644 10;
#X declare -path pitchabs -path ../absutils;
#X declare -lib mrpeach;
#X symbolatom -107 458 10 0 0 0 - - -;
#X floatatom -97 418 5 0 0 0 - - -;
#X obj -121 49 openpanel;
#X obj -121 28 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg -121 72 read \$1;
#X obj -121 548 noteout;
#X msg 9 49 loop \$1;
#X obj 9 28 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj -51 28 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg -51 49 play \$1;
#X msg 9 79 flush;
#X msg 9 109 panic;
#X floatatom 23 201 5 0 0 0 - - -;
#X floatatom -12 222 5 0 0 0 - - -;
#X text 49 79 outputs all midi notes in no-time;
#X text 49 109 all notes off;
#X obj -76 509 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text -55 507 send notes to synthesizer;
#X obj -92 327 spigot 0;
#X obj -47 308 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 62 200 tempo (bpm);
#X text 25 223 length (in midi "ticks");
#X obj -46 175 unpack 0 0 0;
#X floatatom -46 244 5 0 0 0 - - -;
#X obj -121 527 spigot 1;
#X text -9 244 length (in quarter notes);
#X obj -107 283 prepend;
#X text -26 306 print midi notes + ticks in the console;
#X text 39 157 second outlet outputs quantised time information;
#X text 40 139 first outlet outputs midi note info;
#X text 39 175 third outlet outputs extra info about midi track....
;
#X obj -92 348 print midi_raw;
#X obj -107 374 make_chord;
#X obj -121 2 path pitchabs ../absutils;
#X obj -121 147 midiquantizer;
#X floatatom 10 459 5 0 0 0 - - -;
#X obj -107 396 list2number;
#X obj -107 437 midi_chord_estimator;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 34 0;
#X connect 6 0 34 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 34 0;
#X connect 10 0 34 0;
#X connect 11 0 34 0;
#X connect 16 0 24 1;
#X connect 18 0 31 0;
#X connect 19 0 18 1;
#X connect 22 0 23 0;
#X connect 22 1 13 0;
#X connect 22 2 12 0;
#X connect 24 0 5 0;
#X connect 26 0 18 0;
#X connect 26 0 32 0;
#X connect 32 0 36 0;
#X connect 34 0 24 0;
#X connect 34 0 26 0;
#X connect 34 1 26 1;
#X connect 34 2 22 0;
#X connect 36 0 1 0;
#X connect 36 0 37 0;
#X connect 37 0 0 0;
#X connect 37 1 35 0;
